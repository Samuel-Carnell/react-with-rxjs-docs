<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BindHook | React with RxJS</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/react-with-rxjs-docs/assets/css/0.styles.24313b64.css" as="style"><link rel="preload" href="/react-with-rxjs-docs/assets/js/app.7aed85a8.js" as="script"><link rel="preload" href="/react-with-rxjs-docs/assets/js/2.ae18ba25.js" as="script"><link rel="preload" href="/react-with-rxjs-docs/assets/js/9.cea52582.js" as="script"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/10.7b2ddad1.js"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/11.c00bbe23.js"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/12.163f3eba.js"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/13.30deb2d2.js"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/14.5c4e6173.js"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/15.90417aa5.js"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/3.6529368c.js"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/4.e05c873c.js"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/5.f3e6ed41.js"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/6.498ab014.js"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/7.7174435a.js"><link rel="prefetch" href="/react-with-rxjs-docs/assets/js/8.1bdfb343.js">
    <link rel="stylesheet" href="/react-with-rxjs-docs/assets/css/0.styles.24313b64.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/react-with-rxjs-docs/" class="home-link router-link-active"><!----> <span class="site-name">React with RxJS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/react-with-rxjs-docs/guide/motivation.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/react-with-rxjs-docs/api/bind-hook.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/react-with-rxjs-docs/examples/users-table.html" class="nav-link">
  Examples
</a></div><div class="nav-item"><a href="/react-with-rxjs-docs/upgrading-from-v1.html" class="nav-link">
  Upgrading from v1
</a></div><div class="nav-item"><a href="/react-with-rxjs-docs/changelog.html" class="nav-link">
  Changelog
</a></div> <a href="https://github.com/samuel-carnell/react-with-rxjs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/react-with-rxjs-docs/guide/motivation.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/react-with-rxjs-docs/api/bind-hook.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/react-with-rxjs-docs/examples/users-table.html" class="nav-link">
  Examples
</a></div><div class="nav-item"><a href="/react-with-rxjs-docs/upgrading-from-v1.html" class="nav-link">
  Upgrading from v1
</a></div><div class="nav-item"><a href="/react-with-rxjs-docs/changelog.html" class="nav-link">
  Changelog
</a></div> <a href="https://github.com/samuel-carnell/react-with-rxjs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>API</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/react-with-rxjs-docs/api/bind-hook.html" aria-current="page" class="active sidebar-link">BindHook</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bindhook"><a href="#bindhook" class="header-anchor">#</a> BindHook</h1> <p>Creates a hook that returns a copy of the object/array returned by the <code>getState</code> function, resolving any observables properties to their latest emitted value (or undefined until the observable emits a value). If the hook is called with any arguments those arguments will be converted into observables that replay their current value and emit if the argument has changed between renders. These observables are then passed along to the getState function.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">bindHook</span><span class="token generic class-name"><span class="token operator">&lt;</span>
	<span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token builtin">unknown</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token constant">P</span> <span class="token keyword">extends</span> Observable<span class="token operator">&lt;</span><span class="token builtin">unknown</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function-variable function">getState</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">...</span>params<span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> UseCurrentState<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">P</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Non synchronous values</p> <p>If any of the observables returned from the <code>getState</code> function do not emit a value synchronously at subscription time, then it value will be returned as undefined for the first render.</p></div> <div class="custom-block warning"><p class="custom-block-title">Errors</p> <p>If any of the observables returned from the <code>getState</code> function throw an error then that error will be caught and re thrown by the component during rendering.</p></div> <h2 id="example"><a href="#example" class="header-anchor">#</a> Example</h2> <p>In this example the <code>useClickCounter</code> hook will return both the <code>onClick</code> property and the current value emitted by the <code>count</code> observable. When the <code>onClick</code> function is called the <code>count</code> observable will emit a new value, causing the component to re render and the hook to return the new value of <code>count</code> on the next render.</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">const</span> useClickCounter <span class="token operator">=</span> <span class="token function">bindHook</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> clicks$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> clicks$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		count<span class="token operator">:</span> clicks$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span> onClick<span class="token punctuation">,</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useClickCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="example-with-inputs"><a href="#example-with-inputs" class="header-anchor">#</a> Example with inputs</h2> <p>Here the <code>value$</code> prop will be emit the argument the hook is first called with, then again when the value of that argument changes. The hook will then return a debounced version of that value. On the initial render however it will returned undefined, this is because the observable will not emit the debounced value until after 300ms of the initial render.</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">const</span> useDebounce <span class="token operator">=</span> <span class="token function">bindHook</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value$</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span> debouncedValue<span class="token operator">:</span> value$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">debounceTime</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> someProp <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span> debouncedValue<span class="token operator">:</span> debouncedProp <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useDebounce</span><span class="token punctuation">(</span>someProp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>debouncedProp<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/react-with-rxjs-docs/assets/js/app.7aed85a8.js" defer></script><script src="/react-with-rxjs-docs/assets/js/2.ae18ba25.js" defer></script><script src="/react-with-rxjs-docs/assets/js/9.cea52582.js" defer></script>
  </body>
</html>
