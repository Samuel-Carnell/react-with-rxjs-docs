<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>useLatestValue | ReactXJS</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/reactxjs-docs/assets/css/0.styles.d2c8dc13.css" as="style"><link rel="preload" href="/reactxjs-docs/assets/js/app.cd7e6e20.js" as="script"><link rel="preload" href="/reactxjs-docs/assets/js/2.0e44de87.js" as="script"><link rel="preload" href="/reactxjs-docs/assets/js/10.2a980893.js" as="script"><link rel="prefetch" href="/reactxjs-docs/assets/js/11.14e4243e.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/12.2ed536a3.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/13.ec842782.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/14.0c87af3e.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/15.698a993c.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/16.0703a14f.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/3.5e04ea21.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/4.e05c873c.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/5.f3e6ed41.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/6.498ab014.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/7.3f5168c2.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/8.cd1a16a8.js"><link rel="prefetch" href="/reactxjs-docs/assets/js/9.93bd9fb7.js">
    <link rel="stylesheet" href="/reactxjs-docs/assets/css/0.styles.d2c8dc13.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/reactxjs-docs/" class="home-link router-link-active"><!----> <span class="site-name">ReactXJS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/reactxjs-docs/guide/core-concepts.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/reactxjs-docs/api/hooks/use-state-observable.html" class="nav-link">
  API
</a></div> <a href="https://github.com/samuel-carnell/reactxjs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/reactxjs-docs/guide/core-concepts.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/reactxjs-docs/api/hooks/use-state-observable.html" class="nav-link">
  API
</a></div> <a href="https://github.com/samuel-carnell/reactxjs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Hooks</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/reactxjs-docs/api/hooks/use-observable.html" class="sidebar-link">useObservable</a></li><li><a href="/reactxjs-docs/api/hooks/use-event-observable.html" class="sidebar-link">useEventObservable</a></li><li><a href="/reactxjs-docs/api/hooks/use-latest-value.html" aria-current="page" class="active sidebar-link">useLatestValue</a></li><li><a href="/reactxjs-docs/api/hooks/use-state-observable.html" class="sidebar-link">useStateObservable</a></li><li><a href="/reactxjs-docs/api/hooks/use-is-complete.html" class="sidebar-link">useIsComplete</a></li><li><a href="/reactxjs-docs/api/hooks/use-latest-value.html" aria-current="page" class="active sidebar-link">useLatestValue</a></li><li><a href="/reactxjs-docs/api/hooks/use-observable-of.html" class="sidebar-link">useObservableOf</a></li><li><a href="/reactxjs-docs/api/hooks/use-subscription.html" class="sidebar-link">useSubscription</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="uselatestvalue"><a href="#uselatestvalue" class="header-anchor">#</a> useLatestValue</h2> <p>Subscribes to <code>source$</code> and returns/yields the latest emitted value, re-rendering the component when <code>source$</code> emits a new value.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">useLatestValue</span><span class="token generic class-name"><span class="token operator">&lt;</span>TValue<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>source$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TValue<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> TValue <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">useLatestValue</span><span class="token generic class-name"><span class="token operator">&lt;</span>TValue<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>source$<span class="token operator">:</span> BehaviorSubject<span class="token operator">&lt;</span>TValue<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> TValue<span class="token punctuation">;</span>
</code></pre></div><p>Like <a href="/api/hooks/use-subscription">useSubscription</a> if the source observable changes in between re-renders this hook will automatically unsubscribe from the old observable and resubscribe to the new one. However, until the new observable emits a value this hook will return the last emitted value of the previous observable.</p> <p>To make this hook concurrent mode safe the subscription is created after the component initially mounts, thus will always return <code>undefined</code> when called on the initial render. BehaviorSubject subjects however can negate this as their values can be read synchronously (see below). You can find out more about concurrent mode safety <a href="/guide/core-concepts#concurrent-mode-safety">here</a>.</p> <div class="custom-block tip"><p class="custom-block-title">BehaviorSubjects</p> <p>Unlike other observable, BehaviorSubjects provide a <code>getValue</code> method for reading values synchronously. This hook utilizes this method to get the current value on the initial render, before the component has mounted and the subscription established, avoiding the need to default to <code>undefined</code>.</p></div> <div class="custom-block tip"><p class="custom-block-title">Error Handling</p> <p>If an error is thrown by the source observable, then it will be treated as if thrown by the component during the rendering process. Thus requiring a React error boundary to catch the error.</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Internally this hook uses the <code>useState</code> hook, as a result synchronous updates may be batched by React in order to reduce re-renders. In very rare cases this may cause unexpected results.</p> <p>To prevent this the source observable must be modified so that the subscription creation and/or the notification delivery are performed asynchronously. This can be done by calling the <code>subscribeOn</code> operator and/or the <code>observeOn</code> operator with the <code>asyncScheduler</code>. You can find out more on RxJS schedulers <a href="https://rxjs.dev/guide/scheduler" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/reactxjs-docs/assets/js/app.cd7e6e20.js" defer></script><script src="/reactxjs-docs/assets/js/2.0e44de87.js" defer></script><script src="/reactxjs-docs/assets/js/10.2a980893.js" defer></script>
  </body>
</html>
